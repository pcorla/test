name: Post Merge Action
run-name: Post Merge Action

on:
  push:
    branches:
      - 'main' # Adjust to your branch name

jobs:
  post-merge:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Get merged branch name
        id: get_branch
        run: echo "Merged branch name:: $(echo $GITHUB_REF | awk -F/ '{print $3}')"

      - name: Run post-merge script
        run: |
          # Access the merged branch name using ${{ steps.get_branch.outputs.stdout }}
          merged_branch="${{ steps.get_branch.outputs.stdout }}"
          echo "Running post-merge actions for branch: $merged_branch"
          ./post_merge.sh "$merged_branch"
